<div class="container">
    <h3>Edit Patient Info</h3>
    <hr>

    <form name="frmPatient" #form="ngForm" autocomplete="off" (ngSubmit)="onSubmit(form)">

        <!-- PatientId (Read-only, Automatically Populated) -->
        <div class="form-group">
            <label>PatientId</label>
            <input type="text" readonly name="PatientId" class="form-control"
                [(ngModel)]="patientService.patient.PatientId">
        </div>






        <!-- First Name (Editable) -->
        <div class="form-group">
            <label>First Name</label>
            <input type="text" name="FirstName" #FirstName="ngModel" class="form-control"
                [(ngModel)]="patientService.patient.FirstName" required
                [ngClass]="{'is-invalid': FirstName.touched && FirstName.invalid}" />
            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="FirstName.touched && FirstName.invalid">
                <div *ngIf="FirstName.errors.required">
                    First Name is required!
                </div>
            </div>
        </div>

        <!-- Last Name (Editable) -->
        <div class="form-group">
            <label>Last Name</label>
            <input type="text" name="LastName" #LastName="ngModel" class="form-control"
                [(ngModel)]="patientService.patient.LastName" required
                [ngClass]="{'is-invalid': LastName.touched && LastName.invalid}" />
            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="LastName.touched && LastName.invalid">
                <div *ngIf="LastName.errors.required">
                    Last Name is required!
                </div>
            </div>
        </div>

        <!-- Date of Birth (Read-only) -->
        <div class="form-group">
            <label>Date of Birth</label>
            <input type="date" name="Dob" class="form-control"
                [(ngModel)]="patientService.patient.Dob" readonly />
        </div>




        
        <!-- Gender (Read-only Dropdown) -->
        <div class="form-group">
            <label>Gender</label>
            <select name="Gender" class="form-control" [(ngModel)]="patientService.patient.Gender" readonly>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Others">Others</option>
            </select>
        </div>

        <!-- Blood Group (Dropdown) -->
        <div class="form-group">
            <label>Blood Group</label>
            <select name="BloodGroup" #BloodGroup="ngModel" class="form-control"
                [(ngModel)]="patientService.patient.BloodGroup" required
                [ngClass]="{'is-invalid': BloodGroup.touched && BloodGroup.invalid}">
                <option value="" disabled>---Select Blood Group---</option>
                <option value="A+">A+</option>
                <option value="A-">A-</option>
                <option value="B+">B+</option>
                <option value="B-">B-</option>
                <option value="AB+">AB+</option>
                <option value="AB-">AB-</option>
                <option value="O+">O+</option>
                <option value="O-">O-</option>
            </select>
            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="BloodGroup.touched && BloodGroup.invalid">
                <div *ngIf="BloodGroup.errors.required">
                    Blood Group is required!
                </div>
            </div>
        </div>

        <!-- Phone Number (Editable) -->
        <div class="form-group">
            <label>Phone Number</label>
            <input type="text" name="PhoneNumber" #PhoneNumber="ngModel" class="form-control"
                [(ngModel)]="patientService.patient.PhoneNumber" minlength="10" maxlength="10" required
                [ngClass]="{'is-invalid': PhoneNumber.touched && PhoneNumber.invalid}" />
            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="PhoneNumber.touched && PhoneNumber.invalid">
                <div *ngIf="PhoneNumber.errors.required">
                    Phone Number is invalid or required!
                </div>
            </div>
        </div>

        <!-- Email (Editable) -->
        <div class="form-group">
            <label>Email</label>
            <input type="email" name="Email" #Email="ngModel" class="form-control"
                [(ngModel)]="patientService.patient.Email" required
                [ngClass]="{'is-invalid': Email.touched && Email.invalid}" />
            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="Email.touched && Email.invalid">
                <div *ngIf="Email.errors.required">
                    Email is invalid or required!
                </div>
            </div>
        </div>

        <!-- Address (Editable) -->
        <div class="form-group">
            <label>Address</label>
            <input type="text" name="Address" #Address="ngModel" class="form-control"
                [(ngModel)]="patientService.patient.Address" required
                [ngClass]="{'is-invalid': Address.touched && Address.invalid}" />
            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="Address.touched && Address.invalid">
                <div *ngIf="Address.errors.required">
                    Address is invalid or required!
                </div>
            </div>
        </div>





        <!-- Register Date (Read-only) -->
        <div class="form-group">
            <label>Register Date</label>
            <input type="date" name="RegisterDate" class="form-control"
                [(ngModel)]="patientService.patient.RegisterDate" readonly />
        </div>
        <!-- Submit -->
        <div class="form-group">
            <button type="submit" class="btn btn-lg btn-primary form-control"
                [disabled]="!(form.valid && form.dirty)">UPDATE</button>
                <button class="btn btn-secondary" (click)="goBack()">BACK</button>

        </div>
    </form>
</div>
